---
title: Survival Analysis in Pediatric Patients with Acute Lymphoblastic Leukemia in
  Argentina
output:
  pdf_document:
    latex_engine: xelatex
  html_notebook: default
---


## Study Description

Overall Survival Study in Pediatric Patients Diagnosed with Acute Lymphoblastic Leukemia in Argentina

## General Objective

To evaluate overall survival in pediatric patients with Acute Lymphoblastic Leukemia (ALL), considering Minimal Residual Disease (MRD) as one of the most relevant explanatory variables.


```{r warning=FALSE,message=FALSE}
#Load require packages
library(dplyr)      # Data manipulation
library(tidyr)      # Data cleaning / tidying
library(ggplot2)    # Data visualization
library(kableExtra) # Table formatting
library(knitr)      # Reporting tools
library(readxl)      # Read data
library(kableExtra) # Table formatting
library(tableone)  # For construction of “Table 1”
library(arsenal)  # Create summary statistics
```


```{r}
#Load data set
data_lla <- read_excel("data_lla.xlsx")
#Verify dimensions and first rows
dim(data_lla)
head(data_lla,3)

```


## Exploratory data analysis (EDA)


The study variables included:

Sex, categorized as female or male.

Age at diagnosis, categorized as younger than 6 years or 6 years and older. Based on previous evidence and published literature, this cutoff was selected as differences in overall survival are largely determined by this age threshold.

White blood cell count at diagnosis (Blancos_cat), categorized as lower or higher than 20,000/mm³.

Down syndrome diagnosis, included as a dichotomous categorical variable (yes/no).

Central nervous system (CNS) involvement, categorized into three levels:

- Normal cerebrospinal fluid (CSF)

- Pathological CSF without clinical manifestations

- Pathological CSF with clinical manifestations

Leukemia lineage, categorized as B or T, according to the World Health Organization (WHO) classification.

Presence or absence of TEL and MLL gene alterations, included as dichotomous categorical variables, associated with favorable and unfavorable prognosis, respectively.

Percentage of blasts in peripheral blood (Blasts) and bone marrow (BM), both considered continuous variables.

- Chromosomal ploidy, included as a categorical variable with four levels:

- Hyperdiploidy (>46 chromosomes)

- Other (pseudodiploidy)

- Hypodiploidy (<46 chromosomes)

- Failure to obtain metaphases

Prednisone response (RTA_PRED), defined as an absolute white blood cell count <1000/µL on day 8 after treatment initiation, following 7 consecutive days of prednisone and a single dose of intrathecal methotrexate on day 1.

Minimal Residual Disease (MRD), an ordinal categorical variable defined as the detection of blasts (≥1 blast per 10,000 normal cells) in bone marrow of patients in morphological complete remission. MRD was assessed on day 15 of treatment and categorized into three levels:

- <0.1% (standard risk)

- ≥0.1% and <10% (intermediate risk)

- ≥10% (high risk)


```{r}
#Rename variables
data_lla <- data_lla %>%
  rename(
    Sex = Sexo,
    Age_cat = Edad_cat,
    WBC_cat = Blancos_cat,
    DownSyndrome = Down,
    CNS = SNC,
    Lineage = Estirpe,
    TEL_gene = TEL,
    MLL_gene = MLL,
    Blasts_PB = Blastos,
    Blasts_BM = MO,
    Ploidy = Ploidia,
    Pred_Response = RTA_PRED,
    MRD_cat = CAT_ERM,
    OS_status = SGSTATUS
  )
```


```{r warning=FALSE,message=FALSE}
#Categorical variables
data_lla <- data_lla %>%
  mutate_at(c("Sex","DownSyndrome","MLL_gene","Pred_Response",
              "Lineage","TEL_gene","CNS","Age_cat","WBC_cat",
              "Ploidy","MRD_cat"), factor)

#Continuous variables
data_lla <- data_lla %>%
  mutate(
    Blasts_PB = as.numeric(Blasts_PB),
    Blasts_BM = as.numeric(Blasts_BM),
    Edad = as.numeric(Edad)
  )

```

```{r}
#create table1
tab1 <- tableby(
  MRD_cat ~ Sex + DownSyndrome + MLL_gene + Pred_Response +
    Lineage + Age_cat + TEL_gene + WBC_cat +
    Blasts_BM + CNS + Ploidy + Blasts_PB,
  data = data_lla
)

summary(tab1, text = TRUE)


```





